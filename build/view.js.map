{"version":3,"file":"view.js","mappings":"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","sources":["webpack://slideshow-mgarcia/./src/view.js"],"sourcesContent":["/**\n * Use this file for JavaScript code that you want to run in the front-end\n * on posts/pages that contain this block.\n *\n * When this file is defined as the value of the `viewScript` property\n * in `block.json` it will be enqueued on the front end of the site.\n *\n * Example:\n *\n * ```js\n * {\n *   \"viewScript\": \"file:./view.js\"\n * }\n * ```\n *\n * If you're not making any changes to this file because your project doesn't need any\n * JavaScript running in the front-end, then you should delete this file and remove/\n * the `viewScript` property from `block.json`.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-metadata/#view-script\n */\n\n/* Carousel with CSS scroll snap JavaScript */ \ndocument.addEventListener('DOMContentLoaded', function() {\n    \n    const carousels = document.querySelectorAll('.slideshow-mgarcia-container');\n    carousels.forEach(function( carousel ) {\n  \n        const ele = carousel.querySelector('ul.slideshow-mgarcia-list');\n        const amountvisible = Math.round(ele.offsetWidth/ele.querySelector('li:nth-child(1)').offsetWidth);\n        const bullets = carousel.querySelectorAll('ol li');\n        const slides = carousel.querySelectorAll('ul.slideshow-mgarcia-list li');\n        const nextarrow = carousel.querySelector('.slideshow-mgarcia-next');\n        const prevarrow = carousel.querySelector('.slideshow-mgarcia-prev');\n  \n        // Initialize the carousel\n        nextarrow.style.display = 'block';\n        prevarrow.style.display = 'block';\n        ele.scrollLeft = 0;\n        bullets[0].classList.add('selected');\n        slides[0].classList.add('selected');\n        if(amountvisible>1) {\n          var removeels = carousel.querySelectorAll('ol li:nth-last-child(-n + '+(amountvisible-1)+')');\n          removeels.forEach(function(removeel) {\n            removeel.remove();\n          });\n        }\n  \n        const setSelected = function() {\n            bullets.forEach(function(bullet) {\n               bullet.classList.remove('selected');\n            });\n            slides.forEach(function(slide) {\n               slide.classList.remove('selected');\n            });\n            const scrolllength = carousel.querySelector('ul.slideshow-mgarcia-list li:nth-child(2)').offsetLeft - carousel.querySelector('ul.slideshow-mgarcia-list li:nth-child(1)').offsetLeft;\n            const nthchild = (Math.round((ele.scrollLeft/scrolllength)+1));\n            carousel.querySelector('ol li:nth-child('+nthchild+')').classList.add('selected'); \n            carousel.querySelector('ul.slideshow-mgarcia-list li:nth-child('+nthchild+')').classList.add('selected'); \n            if(carousel.parentElement.parentElement.querySelector('.dynamictitle')) {\n                const title = carousel.querySelector('ul.slideshow-mgarcia-list li:nth-child('+nthchild+') img').getAttribute('title'); \n                if(title) carousel.parentElement.parentElement.querySelector('.dynamictitle').innerHTML = title;\n            }\n        }\n  \n        const scrollTo = function(event) {\n            event.preventDefault();\n            ele.scrollLeft = ele.querySelector(this.getAttribute('href')).offsetLeft;\n        }\n        \n        const nextSlide = function() {\n            if(!carousel.querySelector('ol li:last-child').classList.contains('selected')) {\n                carousel.querySelector('ol li.selected').nextElementSibling.querySelector('a').click();\n            } else {\n                carousel.querySelector('ol li:first-child a').click();\n            }\n        }\n  \n        const prevSlide = function() {\n            if(!carousel.querySelector('ol li:first-child').classList.contains('selected')) {\n                carousel.querySelector('ol li.selected').previousElementSibling.querySelector('a').click();\n            } else {\n                carousel.querySelector('ol li:last-child a').click();\n            }\n        }\n        \n        const setInteracted = function() {\n          ele.classList.add('interacted');\n        }\n            \n        // Attach the handlers\n        ele.addEventListener(\"scroll\", debounce(setSelected));\n        ele.addEventListener(\"touchstart\", setInteracted);\n        ele.addEventListener('keydown', function (e){\n            if(e.key == 'ArrowLeft') ele.classList.add('interacted');\n            if(e.key == 'ArrowRight') ele.classList.add('interacted');\n        });\n  \n        nextarrow.addEventListener(\"click\", nextSlide);\n        nextarrow.addEventListener(\"mousedown\", setInteracted);\n        nextarrow.addEventListener(\"touchstart\", setInteracted);\n  \n        prevarrow.addEventListener(\"click\", prevSlide);\n        prevarrow.addEventListener(\"mousedown\", setInteracted);\n        prevarrow.addEventListener(\"touchstart\", setInteracted);\n  \n        bullets.forEach(function(bullet) {\n          bullet.querySelector('a').addEventListener('click', scrollTo);\n          bullet.addEventListener(\"mousedown\", setInteracted);\n          bullet.addEventListener(\"touchstart\", setInteracted);\n        });\n  \n        //setInterval for autoplay\n        if(carousel.getAttribute('duration')) {\n          setInterval(function(){ \n            if (ele != document.querySelector(\".slideshow-mgarcia-container:hover ul.slideshow-mgarcia-list\") && ele.classList.contains('interacted')==false) {\n              nextarrow.click();\n            }\n          }, carousel.getAttribute('duration'));\n        }\n      \n      \n    }); //end foreach\n  \n  }); //end onload\n  \n  \n  \n  /**\n  * Debounce functions for better performance\n  * (c) 2021 Chris Ferdinandi, MIT License, https://gomakethings.com\n  * @param  {Function} fn The function to debounce\n  */\n  function debounce (fn) {\n  // Setup a timer\n  let timeout;\n  // Return a function to run debounced\n  return function () {\n    // Setup the arguments\n    let context = this;\n    let args = arguments;\n    // If there's a timer, cancel it\n    if (timeout) {\n      window.cancelAnimationFrame(timeout);\n    }\n    // Setup the new requestAnimationFrame()\n    timeout = window.requestAnimationFrame(function () {\n      fn.apply(context, args);\n    });\n  };\n  }"],"names":["document","addEventListener","carousels","querySelectorAll","forEach","carousel","ele","querySelector","amountvisible","Math","round","offsetWidth","bullets","slides","nextarrow","prevarrow","style","display","scrollLeft","classList","add","removeels","removeel","remove","setSelected","bullet","slide","scrolllength","offsetLeft","nthchild","parentElement","title","getAttribute","innerHTML","scrollTo","event","preventDefault","nextSlide","contains","nextElementSibling","click","prevSlide","previousElementSibling","setInteracted","debounce","e","key","setInterval","fn","timeout","context","args","arguments","window","cancelAnimationFrame","requestAnimationFrame","apply"],"sourceRoot":""}